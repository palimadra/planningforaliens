---
layout: hfj
style: angular/animate.css
javascript: directives.js
title: "Animate your Angular App by @sfioritto"
date: "2014-12-16T00:00:00-06:00"
---

<div class="top">
  <div class="title">
    <h1>
      <span>Animate</span>
      <span>Your</span>
      <span>Angular</span>
      <span>Application</span>
    </h1>
    <figure>
      <img src="/images/rocket.png" />
    </figure>
  </div>

  <div class="email-form-box">
    <h2>
      (Brought to you by the <a
      href="http://training.planningforaliens.com/angular/">Angular
      Escape Plan</a>. Try a few Angular lessons for free.)
    </h2>
    <form action="https://www.getdrip.com/forms/4460229/submissions"
          method="post" target="_blank"
          data-drip-embedded-form="3061"
          class="email-form">
      <input type="email" name="fields[email]" value=""
             class="required email"  placeholder="Email address"/>
      <input type="submit" 
             name="submit" 
             value="Start your free lessons"
             data-drip-attribute="sign-up-button" 
             class="button"/>
    </form>
  </div><!-- end email form -->
</div><!-- end top -->

<div class="body">

  <p>
    When an Angular app updates the DOM, the experience is a little ... janky.
  </p>
  
  <p>
    Angular looks at your template, creates an element and dumps it into
    the DOM. The new element unceremouniously *pops* into existence as the browser paints the pixels almost
    instantaneously.
  </p>
  
  <p>
    This is a great experience if you're a Cyberdine Model 101 Terminator
    with integrated heads-up-display ... but if your users are only human,
    it's jarring.
  </p>
  
  <p>
    Angular cares about your puny human users too.
  </p>
  
  <p>
    The way Angular watches your data and then updates the view, (almost
    magically), makes it  tough to reason about how you would improve this
    experience.
  </p>
  
  <p>
    In a normal app, you write the code that updates the DOM, so you can
    add some custom animations. But if you're using built-in directives,
    you don't control that ... so what's a developer to do.
  </p>
  
  <p>
    How would animations work in a web application if you weren't using
    Angular?
  </p>
  
  <p>
    You would:
    * Define your starting and end styles
    * Add or change an element and set it to the starting style
    * Animate to the end style
  </p>
  
  <p>
    When you add animations to your Angular application, you follow this
    pattern, but in a very Angular-y way that completely decouples your
animation code from your directive code.
  </p>

  <p>
    It's easier to understand how all the pieces fit together if you build
    and animate a custom directive. Then you can circle back and
    understand *exactly* what's happening in the built-in directives.
  </p>
  
  <p>
    A simple directive for hiding an element with no support for animations:
  </p>
  
  {% highlight javascript %}
  console.log("boom");
  {% endhighlight %}
  
  <p>
    The myHide directive watches an expression and when the expression
    evaluates as truthy, adds a class to the element and removes it when
    it's false. The class sets display to none, so the myHide element is
    hidden when the expression is truthy.
  </p>
  
  <p>
    This works, but there is no transition, it just pops in and out of existence.
  </p>
  
  <p>
    LIVE EXAMPLE HERE
  </p>
  
  <p>
    Now let's add an animation to this directive in a non-Angular way.
    When the element hides it should fade out before it disappears. We'll
    do this with CSS classes, transitions and a little bit of Javascript.
  </p>
  
  <p>
    Instead of adding the class immediately, we'll 
  </p>
  
  <p>
    - build myShow and manually add or remove the element
    - how would we animate from here?
    - set start style, add element, add end style and transition
    -but now this directive is not very reusable, everyone has to do the same animations, you want animations completely decoupled
    - what if we just added special css classes at the right times instead? that's what $animate does for you
    - include ngAnimate module
    - quick intro $animate. list methods. each of those does the thing, (like add/remove element) AND adds special classes or triggers your javascript animation at the right time
      - replace example code with $animate calls
      - rewrite css to use angular default classes
      - want to use javascript animation instead?
      -- here's how you trigger it with $animate
      -- here's how you define it
  </p>
  
  <p>
    - all built-in directives use $animate like this, so you can define your own animations
    - look at code for ngShow
    - so for ngShow, you just hook in using their CSS classes
  </p>
  
  <p>
    Another example? Navigating on this page.
    - how it works
    - code is on github
  </p>
  
  <form action="https://www.getdrip.com/forms/4460229/submissions"
        method="post" target="_blank"
        data-drip-embedded-form="3061"
        class="email-form">
    <h2>Want more like this? Sign up for free video lessons
    from the <a href="http://training.planningforaliens.com/angular/ ">Angular Escape Plan</a>.</h2>
    <img class="rocket" src="/images/rocket.png" />
    <input type="email" name="fields[email]" value=""
           class="required email"  placeholder="Email address"/>
    <input type="submit" 
           name="submit" 
           value="Start your free lessons"
           data-drip-attribute="sign-up-button" 
           class="button"/>
  </form>
</div><!-- end body -->

